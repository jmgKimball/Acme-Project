<!-- Ct Trial List -->
<template>
    <div class="container fade-in">
        <template if:false={loadingComplete}>
            <div class="loading-screen">
                <div class="loading-text slds-text-align_center">
                    <span>Finding your best matches...</span>
                </div>
                <div class="slds-align_absolute-center">
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </template>
        <template if:true={loadingComplete}>
            <div class="list-header slds-grid">
                <div class="slds-col">
                    <div class="slds-p-around_small nav-button" onclick={handleBack}>
                        <lightning-icon icon-name="utility:chevronleft" size="xx-small" variant="inverse"
                                        class="slds-p-right_x-small nav-button-icon"></lightning-icon>
                        <span>Back</span>
                    </div>
                </div>
                <div class="slds-col slds-text-align_center slds-p-around_small">
                    {totalRecords} results
                </div>
                <div class="slds-col slds-text-align_right">
                    <div class="slds-p-around_small nav-button" onclick={handleChangeFilter}>
                        <span>Filter</span>
                        <lightning-icon icon-name="utility:filter" size="xx-small" variant="inverse"
                                        class="slds-p-left_x-small nav-button-icon"></lightning-icon>
                    </div>
                </div>
            </div>

            <div class="slds-p-top_medium">
                <template for:each={records} for:item=record>
                    <c-ct-trial-list-item value={record} key={record.trial.Id} onselect={handleSelect}></c-ct-trial-list-item>
                </template>
            </div>
            <div class="pagination-container" if:true={showPagination}>
                <c-ct-pagination-controls page-count={pageCount} current-page={currentPage} onprev={handlePrev}
                                          onnext={handleNext}></c-ct-pagination-controls>
            </div>
        </template>
    </div>
</template>